üìä User subscription: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x7f531cdf5a30>, 'tier_id': 1, 'user_id': 1, 'is_active': True, 'starts_at': datetime.datetime(2025, 5, 13, 14, 22, 13, 700993), 'payment_id': None, 'created_at': datetime.datetime(2025, 5, 13, 14, 22, 13, 703163), 'id': 2, 'expires_at': datetime.datetime(2026, 5, 13, 14, 22, 13, 700985), 'payment_method': None, 'updated_at': datetime.datetime(2025, 5, 13, 14, 22, 13, 703163), 'tier': <app.models.SubscriptionTier object at 0x7f531cc04090>}
üèÜ Subscription tier: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x7f531cdf5af0>, 'price_monthly': 0, 'max_scheduled_probes': 0, 'priority_support': False, 'created_at': datetime.datetime(2025, 5, 13, 14, 21, 13, 454906), 'max_api_keys': 0, 'max_history_days': 7, 'updated_at': datetime.datetime(2025, 5, 13, 14, 21, 13, 454911), 'name': 'FREE', 'allow_scheduled_probes': False, 'price_yearly': 0, 'allow_api_access': False, 'description': 'Basic network diagnostics for personal use', 'features': {'Basic ping diagnostics': True, 'Basic DNS lookups': True, 'Traceroute': True, 'History retention': '7 days', 'API access': False, 'Scheduled probes': False, 'Export capabilities': False, 'Alerting': False, 'Max API calls': '10/min, 100/hour', 'Support': 'Community'}, 'allow_export': False, 'rate_limit_minute': 10, 'allow_alerts': False, 'id': 1, 'rate_limit_hour': 100, 'allow_custom_intervals': False}
‚úÖ Final Pydantic object: username='admin' email='admin@probeops.com' id=1 is_active=True is_admin=True email_verified=True created_at=datetime.datetime(2025, 5, 13, 14, 21, 14, 575344) user_subscription=UserSubscriptionResponse(is_active=True, expires_at=datetime.datetime(2026, 5, 13, 14, 22, 13, 700985), payment_id=None, payment_method=None, id=2, user_id=1, tier_id=1, tier=SubscriptionTierResponse(name='FREE', description='Basic network diagnostics for personal use', price_monthly=0, price_yearly=0, features={'Basic ping diagnostics': True, 'Basic DNS lookups': True, 'Traceroute': True, 'History retention': '7 days', 'API access': False, 'Scheduled probes': False, 'Export capabilities': False, 'Alerting': False, 'Max API calls': '10/min, 100/hour', 'Support': 'Community'}, rate_limit_minute=10, rate_limit_hour=100, max_scheduled_probes=0, max_api_keys=0, max_history_days=7, allow_scheduled_probes=False, allow_api_access=False, allow_export=False, allow_alerts=False, allow_custom_intervals=False, priority_support=False, id=1, created_at=datetime.datetime(2025, 5, 13, 14, 21, 13, 454906), updated_at=datetime.datetime(2025, 5, 13, 14, 21, 13, 454911)), starts_at=datetime.datetime(2025, 5, 13, 14, 22, 13, 700993), created_at=datetime.datetime(2025, 5, 13, 14, 22, 13, 703163), updated_at=datetime.datetime(2025, 5, 13, 14, 22, 13, 703163))
INFO:     172.31.128.52:0 - "GET /me HTTP/1.1" 200 OK
INFO:     172.31.128.52:0 - "GET /?limit=5 HTTP/1.1" 200 OK
INFO:     172.31.128.52:0 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.128.52:0 - "GET /?active_only=true HTTP/1.1" 200 OK
üîç Decoded JWT payload: {'sub': 'admin@probeops.com', 'exp': 1747232164}
2025-05-14 13:46:06,131 - app.auth - DEBUG - Decoded JWT payload: {'sub': 'admin@probeops.com', 'exp': 1747232164}
üìß Found email in token: admin@probeops.com
‚úÖ TokenPayload validated: {'sub': 'admin@probeops.com'}
2025-05-14 13:46:06,131 - app.auth - DEBUG - TokenPayload validated: {'sub': 'admin@probeops.com'}
‚úÖ User found: admin (email: admin@probeops.com)
INFO:     172.31.128.52:0 - "GET /metrics/dashboard HTTP/1.1" 200 OK
INFO:     172.31.128.52:0 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.128.52:0 - "POST /?expires_days=30 HTTP/1.1" 405 Method Not Allowed
